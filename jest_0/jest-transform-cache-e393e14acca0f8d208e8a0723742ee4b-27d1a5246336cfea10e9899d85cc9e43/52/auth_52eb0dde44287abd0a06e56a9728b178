b1a3af7a398b9a0d91c135aa0472a118
"use strict";

var _interopRequireWildcard = require("/home/programowanie4/Pulpit/Luty/React-TheBurger/node_modules/@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var actionTypes = _interopRequireWildcard(require("../actions/actionTypes"));

var _utility = require("../../shared/utility");

const initialState = {
  token: null,
  userId: null,
  error: null,
  loading: false,
  authRedirect: '/'
};

const authStart = (state, action) => {
  return (0, _utility.updateObject)(state, {
    error: null,
    loading: true
  });
};

const authSuccess = (state, action) => {
  return (0, _utility.updateObject)(state, {
    token: action.idToken,
    userId: action.userId,
    error: null,
    loading: false
  });
};

const authFail = (state, action) => {
  return (0, _utility.updateObject)(state, {
    error: action.error,
    loading: false
  });
};

const authLogout = (state, action) => {
  return (0, _utility.updateObject)(state, {
    token: null,
    userId: null
  });
};

const setAuthRedirectPath = (state, action) => {
  return (0, _utility.updateObject)(state, {
    authRedirectPath: action.path
  });
};

const reducer = (state = initialState, action) => {
  switch (action.type) {
    case actionTypes.AUTH_START:
      return authStart(state, action);

    case actionTypes.AUTH_SUCCESS:
      return authSuccess(state, action);

    case actionTypes.AUTH_FAIL:
      return authFail(state, action);

    case actionTypes.AUTH_LOGOUT:
      return authLogout(state, action);

    case actionTypes.SET_AUTH_REDIRECT_PATH:
      return setAuthRedirectPath(state, action);

    default:
      return state;
  }
};

var _default = reducer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiaW5pdGlhbFN0YXRlIiwidG9rZW4iLCJ1c2VySWQiLCJlcnJvciIsImxvYWRpbmciLCJhdXRoUmVkaXJlY3QiLCJhdXRoU3RhcnQiLCJzdGF0ZSIsImFjdGlvbiIsImF1dGhTdWNjZXNzIiwiaWRUb2tlbiIsImF1dGhGYWlsIiwiYXV0aExvZ291dCIsInNldEF1dGhSZWRpcmVjdFBhdGgiLCJhdXRoUmVkaXJlY3RQYXRoIiwicGF0aCIsInJlZHVjZXIiLCJ0eXBlIiwiYWN0aW9uVHlwZXMiLCJBVVRIX1NUQVJUIiwiQVVUSF9TVUNDRVNTIiwiQVVUSF9GQUlMIiwiQVVUSF9MT0dPVVQiLCJTRVRfQVVUSF9SRURJUkVDVF9QQVRIIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxZQUFZLEdBQUc7QUFDakJDLEVBQUFBLEtBQUssRUFBRSxJQURVO0FBRWpCQyxFQUFBQSxNQUFNLEVBQUUsSUFGUztBQUdqQkMsRUFBQUEsS0FBSyxFQUFFLElBSFU7QUFJakJDLEVBQUFBLE9BQU8sRUFBRSxLQUpRO0FBS2pCQyxFQUFBQSxZQUFZLEVBQUU7QUFMRyxDQUFyQjs7QUFRQSxNQUFNQyxTQUFTLEdBQUcsQ0FBQ0MsS0FBRCxFQUFPQyxNQUFQLEtBQWtCO0FBQ2hDLFNBQU8sMkJBQWFELEtBQWIsRUFBbUI7QUFBQ0osSUFBQUEsS0FBSyxFQUFFLElBQVI7QUFBY0MsSUFBQUEsT0FBTyxFQUFFO0FBQXZCLEdBQW5CLENBQVA7QUFDSCxDQUZEOztBQUlBLE1BQU1LLFdBQVcsR0FBRyxDQUFDRixLQUFELEVBQU9DLE1BQVAsS0FBa0I7QUFDbEMsU0FBTywyQkFBYUQsS0FBYixFQUFvQjtBQUN2Qk4sSUFBQUEsS0FBSyxFQUFFTyxNQUFNLENBQUNFLE9BRFM7QUFFdkJSLElBQUFBLE1BQU0sRUFBRU0sTUFBTSxDQUFDTixNQUZRO0FBR3ZCQyxJQUFBQSxLQUFLLEVBQUUsSUFIZ0I7QUFJdkJDLElBQUFBLE9BQU8sRUFBRTtBQUpjLEdBQXBCLENBQVA7QUFNSCxDQVBEOztBQVNBLE1BQU1PLFFBQVEsR0FBRyxDQUFDSixLQUFELEVBQU9DLE1BQVAsS0FBa0I7QUFDL0IsU0FBTywyQkFBYUQsS0FBYixFQUFvQjtBQUN2QkosSUFBQUEsS0FBSyxFQUFFSyxNQUFNLENBQUNMLEtBRFM7QUFFdkJDLElBQUFBLE9BQU8sRUFBRTtBQUZjLEdBQXBCLENBQVA7QUFJSCxDQUxEOztBQU9BLE1BQU1RLFVBQVUsR0FBRyxDQUFDTCxLQUFELEVBQU9DLE1BQVAsS0FBa0I7QUFDakMsU0FBTywyQkFBYUQsS0FBYixFQUFvQjtBQUN2Qk4sSUFBQUEsS0FBSyxFQUFFLElBRGdCO0FBRXZCQyxJQUFBQSxNQUFNLEVBQUU7QUFGZSxHQUFwQixDQUFQO0FBSUgsQ0FMRDs7QUFPQSxNQUFNVyxtQkFBbUIsR0FBRyxDQUFDTixLQUFELEVBQU9DLE1BQVAsS0FBa0I7QUFDMUMsU0FBTywyQkFBYUQsS0FBYixFQUFvQjtBQUN2Qk8sSUFBQUEsZ0JBQWdCLEVBQUVOLE1BQU0sQ0FBQ087QUFERixHQUFwQixDQUFQO0FBR0gsQ0FKRDs7QUFNQSxNQUFNQyxPQUFPLEdBQUcsQ0FBQ1QsS0FBSyxHQUFDUCxZQUFQLEVBQW9CUSxNQUFwQixLQUErQjtBQUMzQyxVQUFPQSxNQUFNLENBQUNTLElBQWQ7QUFDSSxTQUFLQyxXQUFXLENBQUNDLFVBQWpCO0FBQTZCLGFBQU9iLFNBQVMsQ0FBQ0MsS0FBRCxFQUFPQyxNQUFQLENBQWhCOztBQUM3QixTQUFLVSxXQUFXLENBQUNFLFlBQWpCO0FBQStCLGFBQU9YLFdBQVcsQ0FBQ0YsS0FBRCxFQUFPQyxNQUFQLENBQWxCOztBQUMvQixTQUFLVSxXQUFXLENBQUNHLFNBQWpCO0FBQTRCLGFBQU9WLFFBQVEsQ0FBQ0osS0FBRCxFQUFPQyxNQUFQLENBQWY7O0FBQzVCLFNBQUtVLFdBQVcsQ0FBQ0ksV0FBakI7QUFBOEIsYUFBT1YsVUFBVSxDQUFDTCxLQUFELEVBQU9DLE1BQVAsQ0FBakI7O0FBQzlCLFNBQUtVLFdBQVcsQ0FBQ0ssc0JBQWpCO0FBQXlDLGFBQU9WLG1CQUFtQixDQUFDTixLQUFELEVBQVFDLE1BQVIsQ0FBMUI7O0FBQ3pDO0FBQ0ksYUFBT0QsS0FBUDtBQVBSO0FBU0gsQ0FWRDs7ZUFZZVMsTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFjdGlvblR5cGVzIGZyb20gJy4uL2FjdGlvbnMvYWN0aW9uVHlwZXMnXG5pbXBvcnQge3VwZGF0ZU9iamVjdH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxpdHknXG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICB0b2tlbjogbnVsbCxcbiAgICB1c2VySWQ6IG51bGwsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgYXV0aFJlZGlyZWN0OiAnLydcbn1cblxuY29uc3QgYXV0aFN0YXJ0ID0gKHN0YXRlLGFjdGlvbikgPT4ge1xuICAgIHJldHVybiB1cGRhdGVPYmplY3Qoc3RhdGUse2Vycm9yOiBudWxsLCBsb2FkaW5nOiB0cnVlfSlcbn1cblxuY29uc3QgYXV0aFN1Y2Nlc3MgPSAoc3RhdGUsYWN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHVwZGF0ZU9iamVjdChzdGF0ZSwge1xuICAgICAgICB0b2tlbjogYWN0aW9uLmlkVG9rZW4sXG4gICAgICAgIHVzZXJJZDogYWN0aW9uLnVzZXJJZCxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgfSlcbn1cblxuY29uc3QgYXV0aEZhaWwgPSAoc3RhdGUsYWN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHVwZGF0ZU9iamVjdChzdGF0ZSwge1xuICAgICAgICBlcnJvcjogYWN0aW9uLmVycm9yLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgIH0pXG59XG5cbmNvbnN0IGF1dGhMb2dvdXQgPSAoc3RhdGUsYWN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHVwZGF0ZU9iamVjdChzdGF0ZSwge1xuICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgdXNlcklkOiBudWxsXG4gICAgfSlcbn1cblxuY29uc3Qgc2V0QXV0aFJlZGlyZWN0UGF0aCA9IChzdGF0ZSxhY3Rpb24pID0+IHtcbiAgICByZXR1cm4gdXBkYXRlT2JqZWN0KHN0YXRlLCB7XG4gICAgICAgIGF1dGhSZWRpcmVjdFBhdGg6IGFjdGlvbi5wYXRoIFxuICAgIH0pXG59XG5cbmNvbnN0IHJlZHVjZXIgPSAoc3RhdGU9aW5pdGlhbFN0YXRlLGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaChhY3Rpb24udHlwZSl7XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuQVVUSF9TVEFSVDogcmV0dXJuIGF1dGhTdGFydChzdGF0ZSxhY3Rpb24pXG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuQVVUSF9TVUNDRVNTOiByZXR1cm4gYXV0aFN1Y2Nlc3Moc3RhdGUsYWN0aW9uKVxuICAgICAgICBjYXNlIGFjdGlvblR5cGVzLkFVVEhfRkFJTDogcmV0dXJuIGF1dGhGYWlsKHN0YXRlLGFjdGlvbilcbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5BVVRIX0xPR09VVDogcmV0dXJuIGF1dGhMb2dvdXQoc3RhdGUsYWN0aW9uKVxuICAgICAgICBjYXNlIGFjdGlvblR5cGVzLlNFVF9BVVRIX1JFRElSRUNUX1BBVEg6IHJldHVybiBzZXRBdXRoUmVkaXJlY3RQYXRoKHN0YXRlLCBhY3Rpb24pXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXIiXX0=